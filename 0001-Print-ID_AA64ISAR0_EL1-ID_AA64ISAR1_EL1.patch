From 17076dc1d790b0d2188698faccd9492280225d7e Mon Sep 17 00:00:00 2001
From: Daniel Bast <2790401+dbast@users.noreply.github.com>
Date: Fri, 26 Dec 2025 09:49:05 +0100
Subject: [PATCH 1/2] Print ID_AA64ISAR0_EL1 + ID_AA64ISAR1_EL1

---
 plat/rockchip/rk3568/drivers/soc/soc.c | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

diff --git a/plat/rockchip/rk3568/drivers/soc/soc.c b/plat/rockchip/rk3568/drivers/soc/soc.c
index fb604628f..4f4b18b44 100644
--- a/plat/rockchip/rk3568/drivers/soc/soc.c
+++ b/plat/rockchip/rk3568/drivers/soc/soc.c
@@ -9,6 +9,9 @@
 #include <mmio.h>
 #include <platform_def.h>
 
+#include <arch_helpers.h>
+#include <plat/common/platform.h>
+
 #include <plat_private.h>
 #include <rk3568_clk.h>
 #include <soc.h>
@@ -98,11 +101,31 @@ void __dead2 rockchip_soc_soft_reset(void)
 
 void plat_rockchip_soc_init(void)
 {
+	u_register_t midr, mpidr, currentel, pfr0, isar0, isar1;
+
 	rockchip_clock_init();
 	secure_timer_init();
 	sgrf_init();
 	rockchip_system_reset_init();
 	rockchip_init_scmi_server();
+
+	/* Print once (CPU0 only) to keep logs readable and stable. */
+	if (plat_my_core_pos() == 0U) {
+		midr = read_midr_el1();
+		mpidr = read_mpidr_el1();
+		currentel = read_CurrentEl();
+		pfr0 = read_id_aa64pfr0_el1();
+		isar0 = read_id_aa64isar0_el1();
+		isar1 = read_id_aa64isar1_el1();
+
+		NOTICE("BL31: MIDR_EL1=0x%lx\n", midr);
+		NOTICE("BL31: MPIDR_EL1=0x%lx\n", mpidr);
+		NOTICE("BL31: CurrentEL=0x%lx\n", currentel);
+		NOTICE("BL31: ID_AA64PFR0_EL1=0x%lx\n", pfr0);
+		NOTICE("BL31: ID_AA64ISAR0_EL1=0x%lx\n", isar0);
+		NOTICE("BL31: ID_AA64ISAR1_EL1=0x%lx\n", isar1);
+	}
+
 	NOTICE("BL31: Rockchip release version: v%d.%d\n",
 		MAJOR_VERSION, MINOR_VERSION);
 }
-- 
2.52.0

